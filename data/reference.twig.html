<div id="reference-endpoints" class="box">
    <h3>Endpoints</h3>

    <p>The following API endpoints are available for use</p>
    <label for="collectionSelecter">Collection:</label>
    <select id="collectionSelecter">
        <option value="null"> --- Select a collection ---</option>
        {% for collection in data.collections %}
        <option value="{{ collection.collection_id }}">{{ collection.title }}</option>
        {% endfor %}
    </select>

    <div class='table-wrap'>
        <table id="endpointsTable">
            <tbody>
            <tr>
                <th>Method</th>
                <th>Endpoint</th>
                <th>Description</th>
                <th>Status</th>
            </tr>
            {% for endpoints in data.endpoints %}
            <tr>
                <td>{{ endpoints.method }}</td>
                <td>{{ endpoints.endpoint }}</td>
                <td>{{ endpoints.description }}</td>
                <td>
                    {% if endpoints.status == 1 %}
                    <span class="label label-success"><i class="fa fa-power-off online"></i> Online</span>
                    {% else %}
                    <span class="label label-danger"><i class="fa fa-power-off online"></i> Offline</span>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
</div>
<div id="reference-collections" class="box">
    <h3>Collections</h3>

    <div class="row">
        <div class="span3">
            <button class="dl-btn-sm docsOverflowExpand" id="collectionsOverflowBoxController">Expand/Contract Area</button>
        </div>
    </div>

    <div class="docsOverflowBox" id="collectionsOverflowBox">
        <table>
            <tbody>
            <tr>
                <th>Collection ID</th>
                <th>Collection Name</th>
            </tr>
            {% for collection in data.collections %}
            <tr>
                <td>{{ collection.collection_id }}</td>
                <td>{{ collection.title }}</td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>

</div>
<div id="reference-fields" class="box">
    <h3>Fields</h3>

    <p>To view more about our metadata terms please <a href="{{ base_url }}/terms">view this page.</a></p>

    <div class="row">
        <div class="span3">
            <button class="dl-btn-sm docsOverflowExpand" id="fieldsOverflowBoxController">Expand/Contract Area</button>
        </div>
    </div>

    <div class="docsOverflowBox" id="fieldsOverflowBox">
        <table>
            <tbody>
            <tr>
                <th>Field Label</th>
                <th>Api Field</th>
                <th>Mapping Documentation</th>
            </tr>
            {% for key,object in data.api_fields %}
            {% for obj in object %}
            <tr>
                <td>{{ obj.label }}</td>
                <td>{{ key }}</td>
                <td><a href="{{ obj.iri }}" target="_blank">{{ obj.iri }}</a></td>
            </tr>
            {% endfor %}
            {% endfor %}
            </tbody>
        </table>
    </div>
</div>
<div id="reference-output-formats" class="box">
    <h3>Output Formats</h3>

    <p>Responses from the API are returned in JSON by default, however there are a number of different formats available which we will show you how
        to request below.</p>

    <h4>GET Requests</h4>
    <p>
        For GET requests you should replace
        <ins>:outputFormat</ins>
        in the URL below with the format you want returned:<br/>
        <a>{{ data.api_url }}/collections/
            <ins>[:name]</ins>
            /items/
            <ins>[:itemId]</ins>
            /output-format/
            <ins>[:outputFormat]</ins>
        </a>
    </p>

    <h4>POST Requests</h4>
    <p>
        For POST requests you should set the
        HTTP <ins>Accept</ins>
        header to the format you want returned.
    </p>
    <h4>Available Formats</h4>
    <div class='table-wrap'>
        <table>
            <tbody>
            <tr>
                <th>Description</th>
                <th>GET Value</th>
                <th>POST Value</th>
            </tr>
            {% for key, object in data.api_output_formats %}
            <tr>
                <td>{{object['description']|capitalize}}</td>
                <td>{{key}}</td>
                <td>{{object['content-type']}}</td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
</div>
<div class="row-fluid">
    <div class="span9"></div>
    <div class="span3"><a
            href="https://github.com/ubc-library/docs-open-collections-api/blob/master/data/reference.twig.html"
            target="_blank" class="githubLink">
        <button class="dl-sbtn-lrg dl-advs-add-btn githubButton"><i class="fa fa-github"></i>&nbsp;Edit this section
            on Github
        </button>
    </a></div>
</div>
